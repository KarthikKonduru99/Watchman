(self["webpackChunkaw_webui"]=self["webpackChunkaw_webui"]||[]).push([[8184],{44174:t=>{function e(t,e,n,r){var u=-1,c=null==t?0:t.length;while(++u<c){var s=t[u];e(r,s,n(s),t)}return r}t.exports=e},47443:(t,e,n)=>{var r=n(42118);function u(t,e){var n=null==t?0:t.length;return!!n&&r(t,e,0)>-1}t.exports=u},1196:t=>{function e(t,e,n){var r=-1,u=null==t?0:t.length;while(++r<u)if(n(e,t[r]))return!0;return!1}t.exports=e},81119:(t,e,n)=>{var r=n(89881);function u(t,e,n,u){return r(t,(function(t,r,c){e(u,t,n(t),c)})),u}t.exports=u},80760:(t,e,n)=>{var r=n(89881);function u(t,e){var n=[];return r(t,(function(t,r,u){e(t,r,u)&&n.push(t)})),n}t.exports=u},41848:t=>{function e(t,e,n,r){var u=t.length,c=n+(r?1:-1);while(r?c--:++c<u)if(e(t[c],c,t))return c;return-1}t.exports=e},42118:(t,e,n)=>{var r=n(41848),u=n(62722),c=n(42351);function s(t,e,n){return e===e?c(t,e,n):r(t,u,n)}t.exports=s},62722:t=>{function e(t){return t!==t}t.exports=e},45652:(t,e,n)=>{var r=n(88668),u=n(47443),c=n(1196),s=n(74757),i=n(23593),a=n(21814),o=200;function f(t,e,n){var f=-1,h=u,p=t.length,v=!0,l=[],k=l;if(n)v=!1,h=c;else if(p>=o){var w=e?null:i(t);if(w)return a(w);v=!1,h=s,k=new r}else k=e?[]:l;t:while(++f<p){var d=t[f],b=e?e(d):d;if(d=n||0!==d?d:0,v&&b===b){var x=k.length;while(x--)if(k[x]===b)continue t;e&&k.push(b),l.push(d)}else h(k,b,n)||(k!==l&&k.push(b),l.push(d))}return l}t.exports=f},55189:(t,e,n)=>{var r=n(44174),u=n(81119),c=n(67206),s=n(1469);function i(t,e){return function(n,i){var a=s(n)?r:u,o=e?e():{};return a(n,t,c(i,2),o)}}t.exports=i},23593:(t,e,n)=>{var r=n(58525),u=n(50308),c=n(21814),s=1/0,i=r&&1/c(new r([,-0]))[1]==s?function(t){return new r(t)}:u;t.exports=i},42351:t=>{function e(t,e,n){var r=n-1,u=t.length;while(++r<u)if(t[r]===e)return r;return-1}t.exports=e},63105:(t,e,n)=>{var r=n(34963),u=n(80760),c=n(67206),s=n(1469);function i(t,e){var n=s(t)?r:u;return n(t,c(e,3))}t.exports=i},7739:(t,e,n)=>{var r=n(89465),u=n(55189),c=Object.prototype,s=c.hasOwnProperty,i=u((function(t,e,n){s.call(t,n)?t[n].push(e):r(t,n,[e])}));t.exports=i},50308:t=>{function e(){}t.exports=e},44908:(t,e,n)=>{var r=n(45652);function u(t){return t&&t.length?r(t):[]}t.exports=u},68184:(t,e,n)=>{"use strict";n.d(e,{U:()=>g});var r=n(14475),u=n(84542),c=n(75472),s=n.n(c),i=n(50361),a=n.n(i),o=n(7739),f=n.n(o),h=n(44908),p=n.n(h),v=n(63105),l=n.n(v),k=n(35161),w=n.n(k),d=(n(57327),n(41539),n(23157),n(78783),n(33948),n(33205)),b=n(78621);function x(t,e){var n=e.host,r=e.type;return w()(l()(t,(function(t){return(!r||t.type===r)&&(!n||t.hostname==n)})),(function(t){return t["id"]}))}var g=(0,d.Q_)("buckets",{state:function(){return{buckets:[]}},getters:{hosts:function(){return p()(w()(this.buckets,(function(t){return t.hostname})))},devices:function(){return p()(w()(this.buckets,(function(t){return t.device_id})))},available:function(){var t=this;return function(e){var n=t.bucketsWindow(e).length>0&&t.bucketsAFK(e).length>0,r=t.bucketsAndroid(e).length>0;return{window:n,browser:n&&t.bucketsBrowser(e).length>0,editor:t.bucketsEditor(e).length>0,android:r,category:n||r,stopwatch:t.bucketsStopwatch(e).length>0}}},bucketsByType:function(){var t=this;return function(e,n,r){var u=x(t.buckets,{host:e,type:n});return r&&0==u.length&&(u=x(t.buckets,{host:"unknown",type:n})),u}},bucketsAFK:function(){var t=this;return function(e){return t.bucketsByType(e,"afkstatus")}},bucketsWindow:function(){var t=this;return function(e){return t.bucketsByType(e,"currentwindow").filter((function(t){return!t.startsWith("aw-watcher-android")}))}},bucketsAndroid:function(){var t=this;return function(e){return t.bucketsByType(e,"currentwindow").filter((function(t){return t.startsWith("aw-watcher-android")}))}},bucketsEditor:function(){var t=this;return function(e){return t.bucketsByType(e,"app.editor.activity",!0)}},bucketsBrowser:function(){var t=this;return function(e){return t.bucketsByType(e,"web.tab.current",!0)}},bucketsStopwatch:function(){var t=this;return function(e){return t.bucketsByType(e,"general.stopwatch",!0)}},getBucket:function(){var t=this;return function(e){return l()(t.buckets,(function(t){return t.id===e}))[0]}},bucketsByHostname:function(){return f()(this.buckets,"hostname")}},actions:{ensureLoaded:function(){var t=this;return(0,u.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.buckets.length){e.next=3;break}return e.next=3,t.loadBuckets();case 3:case"end":return e.stop()}}),e)})))()},loadBuckets:function(){var t=this;return(0,u.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,b.s)().getBuckets();case 2:n=e.sent,t.update_buckets(n);case 4:case"end":return e.stop()}}),e)})))()},getBucketWithEvents:function(t){var e=this;return(0,u.Z)((0,r.Z)().mark((function n(){var u,c,s,i,o;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return u=t.id,c=t.start,s=t.end,i=t.limit,n.next=3,e.ensureLoaded();case 3:return o=a()(e.getBucket(u)),n.next=6,(0,b.s)().getEvents(o.id,{start:c,end:s,limit:i||-1});case 6:return o.events=n.sent,n.abrupt("return",o);case 8:case"end":return n.stop()}}),n)})))()},getBucketsWithEvents:function(t){var e=this;return(0,u.Z)((0,r.Z)().mark((function n(){var c,i,a;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=t.start,i=t.end,n.next=3,e.ensureLoaded();case 3:return n.next=5,Promise.all(w()(e.buckets,function(){var t=(0,u.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getBucketWithEvents({id:n.id,start:c,end:i});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:return a=n.sent,n.abrupt("return",s()(a,[function(t){return t.id}],["asc"]));case 7:case"end":return n.stop()}}),n)})))()},deleteBucket:function(t){var e=this;return(0,u.Z)((0,r.Z)().mark((function n(){var u;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return u=t.bucketId,console.log("Deleting bucket ".concat(u)),n.next=4,(0,b.s)().deleteBucket(u);case 4:return n.next=6,e.loadBuckets();case 6:case"end":return n.stop()}}),n)})))()},update_buckets:function(t){this.buckets=t}}})}}]);
//# sourceMappingURL=8184.f5e089fe.js.map