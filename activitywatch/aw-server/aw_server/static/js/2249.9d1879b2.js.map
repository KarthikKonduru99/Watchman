{"version":3,"file":"js/2249.9d1879b2.js","mappings":"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","sources":["webpack://aw-webui/./src/components/UserSatisfactionPoll.vue","webpack://aw-webui/src/components/UserSatisfactionPoll.vue","webpack://aw-webui/./src/components/UserSatisfactionPoll.vue?581c","webpack://aw-webui/./src/components/UserSatisfactionPoll.vue?a3d9","webpack://aw-webui/./node_modules/lodash/_arrayIncludes.js","webpack://aw-webui/./node_modules/lodash/_baseFindIndex.js","webpack://aw-webui/./node_modules/lodash/_baseFlatten.js","webpack://aw-webui/./node_modules/lodash/_baseIndexOf.js","webpack://aw-webui/./node_modules/lodash/_baseIsNaN.js","webpack://aw-webui/./node_modules/lodash/_baseTrim.js","webpack://aw-webui/./node_modules/lodash/_isFlattenable.js","webpack://aw-webui/./node_modules/lodash/_strictIndexOf.js","webpack://aw-webui/./node_modules/lodash/_trimmedEndIndex.js","webpack://aw-webui/./node_modules/lodash/fp/range.js","webpack://aw-webui/./node_modules/lodash/noop.js","webpack://aw-webui/./node_modules/lodash/toFinite.js","webpack://aw-webui/./node_modules/lodash/toInteger.js","webpack://aw-webui/./node_modules/lodash/toNumber.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.isPollVisible)?_c('b-alert',{attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.isPollVisible=false}}},[_vm._v(\"×\")]),_c('form',[_c('p',[_vm._v(\"Hey there! You've been using ActivityWatch for a while. How likely are you to recommend it to a friend/colleague on a scale 1-10? (with 10 being the most likely)\")]),_c('div',{staticClass:\"radio-options\"},_vm._l((_vm.options),function(i){return _c('div',{staticClass:\"option-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rating),expression:\"rating\"}],attrs:{\"type\":\"radio\",\"id\":'option' + i,\"name\":\"rating\"},domProps:{\"value\":i,\"checked\":_vm._q(_vm.rating,i)},on:{\"change\":function($event){_vm.rating=i}}}),_c('br'),_c('label',{staticStyle:{\"display\":\"block\"},attrs:{\"for\":'option' + i}},[_vm._v(_vm._s(i))])])}),0)]),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":_vm.dontShowAgain}},[_vm._v(\"Don't show again\")]),_c('input',{attrs:{\"type\":\"submit\",\"value\":\"Submit\"},on:{\"click\":_vm.submit}})])]):_vm._e(),(_vm.isPosFollowUpVisible)?_c('b-alert',{attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.isPosFollowUpVisible=false}}},[_vm._v(\"×\")]),_c('p',[_vm._v(\"We're happy to hear you enjoy using ActivityWatch, but we can do better!\"),_c('br'),_vm._v(\"To help us help you, here are a few things you can do:\")]),_c('ul',{staticClass:\"small\"},[_c('li',[_vm._v(\"Support us on \"),_c('a',{attrs:{\"href\":\"https://www.patreon.com/erikbjare\"}},[_vm._v(\"Patreon\")]),_vm._v(\" or \"),_c('a',{attrs:{\"href\":\"https://opencollective.com/ActivityWatch\"}},[_vm._v(\"Open Collective\")]),_vm._v(\" (or by \"),_c('a',{attrs:{\"href\":\"https://ActivityWatch.net/donate/\"}},[_vm._v(\"other donation methods\")]),_vm._v(\").\")]),_c('li',[_vm._v(\"Tell your friends and colleagues!\")]),_c('li',[_vm._v(\"Post about it on social media, we are on \"),_c('a',{attrs:{\"href\":\"https://twitter.com/ActivityWatchIt\"}},[_vm._v(\"Twitter\")]),_vm._v(\" and \"),_c('a',{attrs:{\"href\":\"https://www.facebook.com/ActivityWatch\"}},[_vm._v(\"Facebook\")]),_vm._v(\".\")]),_c('li',[_vm._v(\"Rate us on \"),_c('a',{attrs:{\"href\":\"https://alternativeto.net/software/ActivityWatch/about/\"}},[_vm._v(\"AlternativeTo\")]),_vm._v(\" and \"),_c('a',{attrs:{\"href\":\"https://play.google.com/store/apps/details?id=net.ActivityWatch.android\"}},[_vm._v(\"Google Play Store\")]),_vm._v(\".\")]),_c('li',[_vm._v(\"Join our \"),_c('a',{attrs:{\"href\":\"https://discord.gg/vDskV9q\"}},[_vm._v(\"Discord server\")]),_vm._v(\".\")]),_c('li',[_vm._v(\"Sign up for the \"),_c('a',{attrs:{\"href\":\"http://eepurl.com/cTU6QX\"}},[_vm._v(\"newsletter\")]),_vm._v(\" (we rarely send anything).\")])])]):_vm._e(),(_vm.isNegFollowUpVisible)?_c('b-alert',{attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.isNegFollowUpVisible=false}}},[_vm._v(\"×\")]),_vm._v(\"We are sorry to hear that you did not like ActivityWatch, but we want to improve! We would be very thankful if you helped us by:\"),_c('ul',[_c('li',[_vm._v(\"Fill out the \"),_c('a',{attrs:{\"href\":\"https://forms.gle/q2N9K5RoERBV8kqPA\"}},[_vm._v(\"feedback form\")]),_vm._v(\".\")]),_c('li',[_vm._v(\"Vote for new features on the \"),_c('a',{attrs:{\"href\":\"https://forum.ActivityWatch.net/c/features\"}},[_vm._v(\"forum\")]),_vm._v(\".\")])])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  div\n    b-alert(v-if=\"isPollVisible\", variant=\"info\", show)\n      button(type=\"button\", class=\"close\", @click=\"isPollVisible=false\") &times;\n      form\n        p\n          | Hey there! You've been using ActivityWatch for a while. How likely are you to recommend it to a friend/colleague on a scale 1-10? (with 10 being the most likely)\n        div(class=\"radio-options\")\n          div(v-for=\"i in options\", class=\"option-group\")\n            input(type=\"radio\", :id=\"'option' + i\", name=\"rating\", :value=\"i\", v-model=\"rating\")\n            br\n            label(:for=\"'option' + i\", style=\"display: block\")\n              | {{ i }}\n      div(style=\"display: flex; justify-content: space-between\")\n        a(@click=\"dontShowAgain\" href=\"#\")\n          | Don't show again\n        input(type=\"submit\" value=\"Submit\" @click=\"submit\")\n\n    b-alert(v-if=\"isPosFollowUpVisible\", variant=\"info\" show)\n      button(type=\"button\", class=\"close\", @click=\"isPosFollowUpVisible=false\") &times;\n      p\n        | We're happy to hear you enjoy using ActivityWatch, but we can do better!\n        br\n        | To help us help you, here are a few things you can do:\n      ul.small\n        li\n          | Support us on #[a(href=\"https://www.patreon.com/erikbjare\") Patreon] or #[a(href=\"https://opencollective.com/ActivityWatch\") Open Collective] (or by #[a(href=\"https://ActivityWatch.net/donate/\") other donation methods]).\n        li\n          | Tell your friends and colleagues!\n        li\n          | Post about it on social media, we are on #[a(href=\"https://twitter.com/ActivityWatchIt\") Twitter] and #[a(href=\"https://www.facebook.com/ActivityWatch\") Facebook].\n        //li\n          | Fill out the #[a(href=\"https://forms.gle/q2N9K5RoERBV8kqPA\") feedback form].\n        li\n          | Rate us on #[a(href=\"https://alternativeto.net/software/ActivityWatch/about/\") AlternativeTo] and #[a(href=\"https://play.google.com/store/apps/details?id=net.ActivityWatch.android\") Google Play Store].\n        li\n          | Join our #[a(href=\"https://discord.gg/vDskV9q\") Discord server].\n        li\n          | Sign up for the #[a(href=\"http://eepurl.com/cTU6QX\") newsletter] (we rarely send anything).\n\n    b-alert(v-if=\"isNegFollowUpVisible\", variant=\"info\" show)\n      button(type=\"button\", class=\"close\", @click=\"isNegFollowUpVisible=false\") &times;\n      | We are sorry to hear that you did not like ActivityWatch, but we want to improve! We would be very thankful if you helped us by:\n      ul\n        li\n          | Fill out the #[a(href=\"https://forms.gle/q2N9K5RoERBV8kqPA\") feedback form].\n        li\n          | Vote for new features on the #[a(href=\"https://forum.ActivityWatch.net/c/features\") forum].\n</template>\n\n<style scoped>\n.radio-options {\n  display: flex;\n  justify-content: space-around;\n}\n\n.option-group {\n  text-align: center;\n}\n\nul {\n  margin: 0;\n}\n</style>\n\n<script>\nimport { range } from 'lodash/fp';\nimport moment from 'moment';\n\nimport { useSettingsStore } from '~/stores/settings';\n\nconst NUM_OPTIONS = 10;\n// INITIAL_WAIT_PERIOD is how long to wait from initialTimestamp to the first time that the poll shows up\nconst INITIAL_WAIT_PERIOD = 7 * 24 * 60 * 60;\n// BACKOFF_PERIOD is how many seconds to wait to show the poll again if the user closed it\nconst BACKOFF_PERIOD = 7 * 24 * 60 * 60;\n// The following may be used for testing\n// const INITIAL_WAIT_PERIOD = 1;\n// const BACKOFF_PERIOD = 1;\n\nexport default {\n  name: 'user-satisfaction-poll',\n  data() {\n    return {\n      isPollVisible: false,\n      isPosFollowUpVisible: false,\n      isNegFollowUpVisible: false,\n      // options is an array of [1, ..., NUM_OPTIONS]\n      options: range(1, NUM_OPTIONS + 1),\n      rating: null,\n    };\n  },\n  computed: {\n    data: {\n      get() {\n        const settingsStore = useSettingsStore();\n        return settingsStore.userSatisfactionPollData;\n      },\n      set(value) {\n        const settingsStore = useSettingsStore();\n        const data = settingsStore.userSatisfactionPollData;\n        settingsStore.update({\n          userSatisfactionPollData: { ...data, ...value },\n        });\n      },\n    },\n  },\n  async mounted() {\n    // Get the rest of the data\n    const settingsStore = useSettingsStore();\n    if (!this.data) {\n      this.data = {\n        isEnabled: true,\n        nextPollTime: settingsStore.initialTimestamp.add(INITIAL_WAIT_PERIOD, 'seconds'),\n        timesPollIsShown: 0,\n      };\n    }\n\n    if (!this.data.isEnabled) {\n      return;\n    }\n\n    // Show poll if enough time has passed\n    if (moment() >= moment(this.data.nextPollTime)) {\n      this.data.timesPollIsShown = this.data.timesPollIsShown + 1;\n      this.isPollVisible = true;\n      this.data.nextPollTime = moment().add(BACKOFF_PERIOD, 'seconds');\n    }\n\n    // Show the poll a maximum of 3 times\n    if (this.data.timesPollIsShown > 2) {\n      this.data.isEnabled = false;\n    }\n  },\n  methods: {\n    submit() {\n      this.isPollVisible = false;\n      const data = this.data;\n      data.isEnabled = false;\n      this.data = data;\n\n      if (parseInt(this.rating) >= 6) {\n        this.isPosFollowUpVisible = true;\n      } else {\n        this.isNegFollowUpVisible = true;\n      }\n    },\n    dontShowAgain() {\n      this.isPollVisible = false;\n      const data = this.data;\n      data.isEnabled = false;\n      this.data = data;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserSatisfactionPoll.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserSatisfactionPoll.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSatisfactionPoll.vue?vue&type=template&id=41dd36a0&scoped=true&lang=pug&\"\nimport script from \"./UserSatisfactionPoll.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSatisfactionPoll.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSatisfactionPoll.vue?vue&type=style&index=0&id=41dd36a0&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41dd36a0\",\n  null\n  \n)\n\nexport default component.exports","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var convert = require('./convert'),\n    func = convert('range', require('../range'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n"],"names":["render","_vm","this","_c","_self","isPollVisible","attrs","staticClass","on","$event","_v","_l","options","i","directives","name","rawName","value","rating","expression","domProps","_q","staticStyle","_s","dontShowAgain","submit","_e","isPosFollowUpVisible","isNegFollowUpVisible","staticRenderFns","data","computed","get","set","settingsStore","userSatisfactionPollData","mounted","useSettingsStore","isEnabled","nextPollTime","timesPollIsShown","methods","component","baseIndexOf","arrayIncludes","array","length","module","exports","baseFindIndex","predicate","fromIndex","fromRight","index","arrayPush","isFlattenable","baseFlatten","depth","isStrict","result","baseIsNaN","strictIndexOf","trimmedEndIndex","reTrimStart","baseTrim","string","slice","replace","Symbol","isArguments","isArray","spreadableSymbol","isConcatSpreadable","undefined","reWhitespace","test","charAt","convert","func","placeholder","noop","toNumber","INFINITY","MAX_INTEGER","toFinite","sign","toInteger","remainder","isObject","isSymbol","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","isBinary"],"sourceRoot":""}