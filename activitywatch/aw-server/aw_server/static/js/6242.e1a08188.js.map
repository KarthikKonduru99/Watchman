{"version":3,"file":"js/6242.e1a08188.js","mappings":"yIAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAII,GAAG,cAAcF,EAAG,qBAAqB,CAACG,MAAM,CAAC,gBAAkBL,EAAIM,4BAA4B,YAAcN,EAAIO,aAAaC,MAAM,CAACC,MAAOT,EAAIU,UAAWC,SAAS,SAAUC,GAAMZ,EAAIU,UAAUE,CAAI,EAACC,WAAW,eAAgC,OAAhBb,EAAIc,QAAkBZ,EAAG,MAAM,CAACA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACa,YAAY,CAAC,MAAQ,SAAS,CAACf,EAAII,GAAG,iBAAiBJ,EAAIgB,GAAGhB,EAAIiB,eAAef,EAAG,MAAM,CAACa,YAAY,CAAC,MAAQ,QAAQ,MAAQ,SAAS,CAACf,EAAII,GAAG,uCAAuCF,EAAG,MAAM,CAACa,YAAY,CAAC,MAAQ,UAAUb,EAAG,eAAe,CAACG,MAAM,CAAC,QAAUL,EAAIc,QAAQ,eAAgB,EAAK,gBAAkBd,EAAIU,aAAaR,EAAG,aAAa,CAACG,MAAM,CAAC,OAAS,kDAAkD,CAACH,EAAG,cAAc,CAACG,MAAM,CAAC,QAAUL,EAAIc,YAAY,IAAI,GAAGZ,EAAG,MAAM,CAACA,EAAG,KAAK,CAACgB,YAAY,cAAc,CAAClB,EAAII,GAAG,mBAAmB,EACl5B,EACGe,EAAkB,G,mFCwBtB,SACAC,KAAAA,WACAC,KAFA,WAGA,OACAP,QAAAA,KACAJ,UAAAA,KACAH,YAAAA,QAEA,EACAe,SAAAA,CACAhB,4BADA,WAEA,iBACA,gCACA,EACAW,WALA,WAMA,wCACA,GAEAM,MAAAA,CACAb,UADA,WAEA,iBACA,GAEAc,QAAAA,CACAC,WAAAA,WAAA,qHACA,qBADA,6DAEAC,OAFA,UAGAC,EAAAA,EAAAA,KAAAA,qBAAAA,CACAC,MAAAA,KAAAA,UAAAA,GAAAA,SACAC,IAAAA,KAAAA,UAAAA,GAAAA,WALA,mBAEA,aAFA,KAEAC,OAFA,qHAAAL,KClDwP,I,cCOpPM,GAAY,OACd,EACAhC,EACAoB,GACA,EACA,KACA,KACA,MAIF,QAAeY,EAAiB,O,YCThC,SAASC,EAAQC,EAAOC,GACtB,IAAIC,EACAC,GAAS,EACTC,EAASJ,EAAMI,OAEnB,QAASD,EAAQC,EAAQ,CACvB,IAAIC,EAAUJ,EAASD,EAAMG,SACbG,IAAZD,IACFH,OAAoBI,IAAXJ,EAAuBG,EAAWH,EAASG,EAExD,CACA,OAAOH,CACT,CAEAK,EAAOC,QAAUT,C,kBCvBjB,IAAIU,EAAY,EAAQ,OAGpBC,EAAkB,EAClBC,EAAqB,EAoBzB,SAASC,EAAUpC,GACjB,OAAOiC,EAAUjC,EAAOkC,EAAkBC,EAC5C,CAEAJ,EAAOC,QAAUI,C,kBC5BjB,IAAIC,EAAW,EAAQ,OACnBC,EAAe,EAAQ,OACvBC,EAAU,EAAQ,OAClBC,EAAU,EAAQ,MA4CtB,SAASC,EAAIC,EAAYjB,GACvB,IAAIkB,EAAOH,EAAQE,GAAcL,EAAWE,EAC5C,OAAOI,EAAKD,EAAYJ,EAAab,EAAU,GACjD,CAEAM,EAAOC,QAAUS,C,kBCpDjB,IAAIH,EAAe,EAAQ,OACvBf,EAAU,EAAQ,OAyBtB,SAASqB,EAAMpB,EAAOC,GACpB,OAAQD,GAASA,EAAMI,OACnBL,EAAQC,EAAOc,EAAab,EAAU,IACtC,CACN,CAEAM,EAAOC,QAAUY,C","sources":["webpack://aw-webui/./src/views/Timeline.vue","webpack://aw-webui/src/views/Timeline.vue","webpack://aw-webui/./src/views/Timeline.vue?273b","webpack://aw-webui/./src/views/Timeline.vue?7d2b","webpack://aw-webui/./node_modules/lodash/_baseSum.js","webpack://aw-webui/./node_modules/lodash/cloneDeep.js","webpack://aw-webui/./node_modules/lodash/map.js","webpack://aw-webui/./node_modules/lodash/sumBy.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h2',[_vm._v(\"Timeline\")]),_c('input-timeinterval',{attrs:{\"defaultDuration\":_vm.timeintervalDefaultDuration,\"maxDuration\":_vm.maxDuration},model:{value:(_vm.daterange),callback:function ($$v) {_vm.daterange=$$v},expression:\"daterange\"}}),(_vm.buckets !== null)?_c('div',[_c('div',[_c('div',{staticStyle:{\"float\":\"left\"}},[_vm._v(\"Events shown: \"+_vm._s(_vm.num_events))]),_c('div',{staticStyle:{\"float\":\"right\",\"color\":\"#999\"}},[_vm._v(\"Drag to pan and scroll to zoom.\")])]),_c('div',{staticStyle:{\"clear\":\"both\"}}),_c('vis-timeline',{attrs:{\"buckets\":_vm.buckets,\"showRowLabels\":true,\"queriedInterval\":_vm.daterange}}),_c('aw-devonly',{attrs:{\"reason\":\"Not ready for production, still experimenting\"}},[_c('aw-calendar',{attrs:{\"buckets\":_vm.buckets}})],1)],1):_c('div',[_c('h1',{staticClass:\"aw-loading\"},[_vm._v(\"Loading...\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\ndiv\n  h2 Timeline\n\n  input-timeinterval(v-model=\"daterange\", :defaultDuration=\"timeintervalDefaultDuration\", :maxDuration=\"maxDuration\")\n\n  div(v-if=\"buckets !== null\")\n    div\n      div(style=\"float: left\")\n        | Events shown:  {{ num_events }}\n      div(style=\"float: right; color: #999\")\n        | Drag to pan and scroll to zoom.\n    div(style=\"clear: both\")\n    vis-timeline(:buckets=\"buckets\", :showRowLabels='true', :queriedInterval=\"daterange\")\n\n    aw-devonly(reason=\"Not ready for production, still experimenting\")\n      aw-calendar(:buckets=\"buckets\")\n  div(v-else)\n    h1.aw-loading Loading...\n</template>\n\n<script>\nimport _ from 'lodash';\nimport { useSettingsStore } from '~/stores/settings';\nimport { useBucketsStore } from '~/stores/buckets';\n\nexport default {\n  name: 'Timeline',\n  data() {\n    return {\n      buckets: null,\n      daterange: null,\n      maxDuration: 31 * 24 * 60 * 60,\n    };\n  },\n  computed: {\n    timeintervalDefaultDuration() {\n      const settingsStore = useSettingsStore();\n      return Number(settingsStore.durationDefault);\n    },\n    num_events() {\n      return _.sumBy(this.buckets, 'events.length');\n    },\n  },\n  watch: {\n    daterange() {\n      this.getBuckets();\n    },\n  },\n  methods: {\n    getBuckets: async function () {\n      if (this.daterange == null) return;\n      this.buckets = Object.freeze(\n        await useBucketsStore().getBucketsWithEvents({\n          start: this.daterange[0].format(),\n          end: this.daterange[1].format(),\n        })\n      );\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Timeline.vue?vue&type=template&id=7cfbe9a1&lang=pug&\"\nimport script from \"./Timeline.vue?vue&type=script&lang=js&\"\nexport * from \"./Timeline.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseSum;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","var baseIteratee = require('./_baseIteratee'),\n    baseSum = require('./_baseSum');\n\n/**\n * This method is like `_.sum` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the value to be summed.\n * The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {number} Returns the sum.\n * @example\n *\n * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n *\n * _.sumBy(objects, function(o) { return o.n; });\n * // => 20\n *\n * // The `_.property` iteratee shorthand.\n * _.sumBy(objects, 'n');\n * // => 20\n */\nfunction sumBy(array, iteratee) {\n  return (array && array.length)\n    ? baseSum(array, baseIteratee(iteratee, 2))\n    : 0;\n}\n\nmodule.exports = sumBy;\n"],"names":["render","_vm","this","_c","_self","_v","attrs","timeintervalDefaultDuration","maxDuration","model","value","daterange","callback","$$v","expression","buckets","staticStyle","_s","num_events","staticClass","staticRenderFns","name","data","computed","watch","methods","getBuckets","Object","useBucketsStore","start","end","freeze","component","baseSum","array","iteratee","result","index","length","current","undefined","module","exports","baseClone","CLONE_DEEP_FLAG","CLONE_SYMBOLS_FLAG","cloneDeep","arrayMap","baseIteratee","baseMap","isArray","map","collection","func","sumBy"],"sourceRoot":""}