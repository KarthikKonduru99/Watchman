"use strict";(self["webpackChunkaw_webui"]=self["webpackChunkaw_webui"]||[]).push([[9663],{79663:(t,e,n)=>{n.r(e),n.d(e,{default:()=>x});var i=function(){var t=this,e=t._self._c;return e("div")},a=[],l=n(55208),s=n(66860),r=n(56604),o=n(6767),u=n(96486),c=n(30381);function d(t,e){var n=t.querySelector("#"+e),i=t.querySelector(".titleinfo-container");i.innerHTML=n.innerHTML,i.style.height=n.getAttribute("height")}function p(t){t.innerHTML="",r.select(t).append("svg").attr("class","apptimeline").attr("viewBox","0 0 100 10").attr("width","100%"),r.select(t).append("div").attr("class","titleinfo-list").attr("display","none");var e=document.createElement("div");e.style.width="100%",e.style.height="200px",e.style.overflowY="scroll",t.appendChild(e),r.select(e).append("div").attr("width","100%").attr("class","titleinfo-container")}function f(t,e){var n=t.querySelector(".apptimeline"),i=t.querySelector(".titleinfo-list"),a=t.querySelector(".titleinfo-container"),l=r.select(n);n.innerHTML="",i.innerHTML="",a.innerHTML="",l.append("text").attr("x","0").attr("y","3").text(e).attr("font-family","sans-serif").attr("font-size","3").attr("fill","black")}function h(t,e,n,i,a){var p=r.select(t.querySelector(".apptimeline")).html(null),h=r.select(t.querySelector(".titleinfo-list")).html(null);if(r.select(t.querySelector(".titleinfo-container")).html(null),!(e.length<=0)){var m=e[0],y=e[e.length-1],v=c(m.timestamp),_=c(y.timestamp).add(y.duration,"seconds"),w=u.sumBy(e,"duration"),x=_.diff(v,"seconds",!0),k=0;return u.each(e,(function(e,r){var f,m;if(n){var y=c(e.timestamp);f=y.diff(v,"seconds",!0)/x,f=100*f+"%",m=e.duration/x*100+"%"}else f=k,m=e.duration/w*100;var _=(0,l.T_)(i(e)),g=o(_).darken(.4).hex(),b=p.append("g").attr("id","timeline_event_"+r),q=b.append("rect").attr("x",f).attr("y",0).attr("width",m).attr("height",10).style("fill",_).on("mouseover",(function(){q.style("fill",g),d(t,"titleinfo_event_"+r)})).on("mouseout",(function(){q.style("fill",_)})),H=h.append("div").attr("id","titleinfo_event_"+r).style("display","none");H.append("h5").attr("x","10px").attr("y","20px").text(i(e)+" ("+(0,s.seconds_to_duration)(e.duration)+")").attr("font-family","sans-serif").attr("font-size","20px").attr("fill","black");var S=H.append("table");u.each(e.data.subevents,(function(t){var e=S.append("tr"),n=c(t.timestamp).format("HH:mm:ss");e.append("td").text(n);var i=(0,s.seconds_to_duration)(t.duration);e.append("td").text(i).style("padding-left","1em").style("text-align","right"),e.append("td").text(a(t)).style("padding-left","1em")})),k+=m})),t}f(t,"No data")}const m={create:p,update:h,set_status:f},y={name:"aw-timeline",props:{chunks:{type:Object},show_afk:{type:Boolean},chunkfunc:{type:Function},eventfunc:{type:Function}},watch:{chunks:function(){this.update()},show_afk:function(){this.update()}},mounted:function(){m.create(this.$el),this.update()},methods:{update:function(){null===this.chunks?m.set_status(this.$el,"Loading..."):m.update(this.$el,this.chunks,this.show_afk,this.chunkfunc,this.eventfunc)}}},v=y;var _=n(1001),w=(0,_.Z)(v,i,a,!1,null,"62b8c91d",null);const x=w.exports}}]);
//# sourceMappingURL=9663.a967393e.js.map